{{ partial "header" . }}

<main>

    <h2>{{ .Title }}</h2>
        <h5>created : {{ .Date.Format (.Site.Params.dateFormat | default "Mon, 02 Jan 2006 15:04:05 -0700") }}</h5>
        <h5>modified : {{ .Lastmod.Format (.Site.Params.dateFormat | default "Mon, 02 Jan 2006 15:04:05 -0700") }}</h5>
        {{ partial "tags" . }}
    </div>

    <div align="start" class="content">{{ .Content }}</div>

    <h2> 최근 게시물 </h2>
    <div class="recent">
      {{ range .Pages.ByLastmod.Reverse }}
        {{ partial "list-item" . }}
      {{ end }}
      <div style="font-size: 2rem;">
        <i id="prev-item" class="fa fa-arrow-left"></i>
        <span id="pageNumber"> 0 </span>
        <i id="next-item" class="fa fa-arrow-right"></i>
      </div>
    </div>
    <script>
      var now = 1;
      var perPage = 10;
      var itemList = document.querySelectorAll(".recent > .item");
      var maxNumber = Math.ceil(itemList.length / perPage);
      var pageNumberElem = document.querySelector("#pageNumber");
      function displayItem(page) {
        for (var i = 0; i < itemList.length; i += 1) {
          if (Math.floor(i / perPage) + 1 === now ) {
            itemList[i].style.display = "inherit";
          } else {
            itemList[i].style.display = "none";
          }
        }
        pageNumberElem.innerText = now + ' / ' + maxNumber;
      }
      displayItem(now);
      var prevBtn = document.querySelector("#prev-item");
      var nextBtn = document.querySelector("#next-item");
      prevBtn.addEventListener('click', () => {
        now -= 1;
        now = now > 0 ? now : 1;
        displayItem(now);
      });
      nextBtn.addEventListener('click', () => {
        now += 1;
        now = now > maxNumber ? maxNumber : now;
        displayItem(now);
      });
    </script>


    {{ partial "wikilink" . }}
    {{ partial "comment" . }}
</main>
{{ partial "footer" . }}
