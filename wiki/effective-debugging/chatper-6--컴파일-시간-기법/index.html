<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://unpkg.com/simpledotcss/simple.css><link rel=stylesheet href=/css/main.css><meta name=generator content="Hugo 0.140.0"><meta name=description content="minuk.dev wiki"><meta name=keywords content="hugo,site,new"><meta name=author content="Min-Uk.Lee"><title>Effective Debugging/Chatper 6. 컴파일 시간 기법 |
minuk dev wiki
</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></head><body><header class=header><div class=header_left><a href=/><img class=logo src=/images/Rb.png alt=logo>
MinUk.Dev</a></div><div class=header_middle>Effective Debugging/Chatper 6. 컴파일 시간 기법</div></header><main><article class=main><div class=title><h1 class=title-header>Effective Debugging/Chatper 6. 컴파일 시간 기법</h1></div><a href=https://github.com/minuk-dev/minuk-dev.github.io/blame/master/content/wiki/Effective%20Debugging/Chatper%206-%20%ec%bb%b4%ed%8c%8c%ec%9d%bc%20%ec%8b%9c%ea%b0%84%20%ea%b8%b0%eb%b2%95.md><h5>created : Tue, 07 Apr 2020 20:44:40 +0900</h5><h5>modified : Sat, 26 Sep 2020 23:28:28 +0900</h5></a><div class=article-meta><div class="breadcumb content"><i class="bi bi-folder"></i>
[[Effective Debugging]]</div></div><div class=list-terms><ul><i class="bi bi-tags" title=Tags></i></ul></div><aside class=navbar id=nav-toc style=text-align:left><nav id=TableOfContents><ul><li><a href=#item-50-생성된-코드-확인하기>Item 50. 생성된 코드 확인하기</a></li><li><a href=#item-51-정적-분석-도구-활용하기>Item 51. 정적 분석 도구 활용하기</a><ul><li><a href=#자주하는-실수-모음>자주하는 실수 모음</a></li><li><a href=#기억할-사항>기억할 사항</a></li></ul></li><li><a href=#item-52-빌드-결과와-실행-동작이-항상-일정하도록-설정하기>Item 52. 빌드 결과와 실행 동작이 항상 일정하도록 설정하기</a></li><li><a href=#item-53-라이브러리에서-제공하는-디버깅-및-검사-기능-설정하기>Item 53. 라이브러리에서 제공하는 디버깅 및 검사 기능 설정하기</a><ul><li><a href=#기억할-사항-1>기억할 사항</a></li></ul></li></ul></nav></aside><div class=content><h2 id=item-50-생성된-코드-확인하기>Item 50. 생성된 코드 확인하기</h2><ul><li>컴파일러에서 생성한 코드를 살펴보면 컴팡리 및 실행 시간에 발생한 문제가 소스 코드의 어느 부분에 관련이 있는지 찾아낼 수 있다.</li><li>컴파일러로 생성된 코드를 좀 더 읽기 좋게 표현하려면 컴파일러에 적절한 옵션을 지정하거나 특수한 도구를 사용한다.</li></ul><h2 id=item-51-정적-분석-도구-활용하기>Item 51. 정적 분석 도구 활용하기</h2><h3 id=자주하는-실수-모음>자주하는 실수 모음</h3><ul><li>널 포인터 참조</li><li>동시성 오류 및 경쟁 상태</li><li>철자 오류 (변수를 명시적으로 선언하지 않아도 되는 언어에서 주로 발생함)</li><li>배열이나 메모리 버퍼에 대한 잘못된 인덱스 참조</li><li>잘못된 조건문, 반복문, case문으로 인해 실행될 수 없는 문장</li><li>처리하지 않은 예외</li><li>사용하지 않는 변수나 루틴</li><li>수식 오류</li><li>중복된 코드</li><li>C++에서의 3의 법칙이나 0의 법칙을 따르지 않거나, 자바에서 클래스를 정의할 때 equals/HashCode 메서드를 일고나성이 없는 형태로 구현한 경우</li><li>자원 누수</li><li>보안 취약점</li><li>문법 오류</li></ul><h3 id=기억할-사항>기억할 사항</h3><ul><li>정적 프로그램 분석 도구를 활용하면 컴파일러 경고 메시지로 찾지 못한 잠재적인 버그를 발견할 수 있다.</li><li>프로그램에 존재하는 버그를 분석하기 좋도록 컴파일러 옵션을 적절히 설정한다.</li><li>빌드 과정과 지속적인 통합 과정에 최소한 한 개 이상의 정적 프로그램 분석 도구를 거치도록 설정한다.</li></ul><h2 id=item-52-빌드-결과와-실행-동작이-항상-일정하도록-설정하기>Item 52. 빌드 결과와 실행 동작이 항상 일정하도록 설정하기</h2><ul><li>악의적인 공격을 막기 위해 OS 커널이 프로그램이 올라갈 메모리의 위치에 대한 주소 값을 난수로 정한다. (ALSR, Address Space Layout Randomization)</li><li>GNU/Linux 에서는</li></ul><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=%20%20setarch%20$%28uname%20-m%29%20-R%20myprogram>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  setarch <span style=color:#66d9ef>$(</span>uname -m<span style=color:#66d9ef>)</span> -R myprogram</span></span></code></pre></div></div><ul><li><p>Visual Studio에서는 <code>/DYNAMICBASE:NO</code> 옵션을 지정한다.</p></li><li><p>컴파일러는 기호 이름을 결과 파일에 넣을 때 임의로 생성한 값을 사용한다. <code>GCC</code>에서 <code>-frandom-seed</code> 플래그를 지정하면 이 값을 고정할 수 있다.</p></li><li><p>컴파일러에 입력한 값의 순서가 변한다. 컴파일하거나 링크할 파일을 Makefile에서 와일드카드 형태로 지정했다면 빌드할 때마다 실제로 파일이 입력되는 순서가 달라진다. 입력값을 명시적으로 지정하거나, 와일드카드로 입력할 항목을 정렬하면 순서를 일정하게 유지할 수 있다.</p></li><li><p><code>__DATE__</code>와 <code>__TIME__</code> 매크로를 이용하여 소프트웨어의 버전을 타밍스탬프 값으로 표기하도록 코드를 작성했다면 이 값도 매번 달라진다. 타임스탬프 대신 버전관리 시스템의 식별자를 사용하면 고정할 수 있다.</p></li><li><p>해시나 맵을 통해 생성한 리스트도 변한다. 어떤 컴파일러는 알고리즘 복잡도 공격을 막기 위해 객체에 대한 해시 방식도 바꾼다.</p></li><li><p>어떤 값을 암호화 하는 과정에서 salt를 추가하기도 한다. 이렇게 하면 dictionary attacks을 어느 정도 막을 수 있다. 단, 코드를 디버깅할 때는 꺼두는게 좋다.</p></li></ul><h2 id=item-53-라이브러리에서-제공하는-디버깅-및-검사-기능-설정하기>Item 53. 라이브러리에서 제공하는 디버깅 및 검사 기능 설정하기</h2><h3 id=기억할-사항-1>기억할 사항</h3><ul><li>현재 개발 환경의 컴파일러와 라이브러리에서 제공하는 런타임 디버깅 기능을 찾아서 적극 활용한다.</li><li>현재 환경에서 제공되는 런타임 디버깅 기능이 없다면 이를 제공하는 서드파티 라이브러리를 사용하도록 설정한다.</li></ul></div><hr><div class=list-files><ul class=section-tree></ul></div></article><script src=/js/wikilink.js></script><div><script src=https://utteranc.es/client.js repo=minuk-dev/minuk-dev.github.io issue-term=pathname theme=github-dark crossorigin=anonymous async></script></div></main><footer class=footer><div class=footer-left></div><div class=footer-right><ul class=social><li><a href=/about>About</a></li><li><a href=https://github.com/minuk-dev>Github</a></li></ul></div></footer></body><script src=/js/dir_toggle.js></script><script src=/js/codeblock_copy.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css><script type=module>
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs";
mermaid.initialize({
  startOnLoad: true,
  theme: "dark",
});
</script></html>