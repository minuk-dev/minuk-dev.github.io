<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://unpkg.com/simpledotcss/simple.css><link rel=stylesheet href=/css/main.css><meta name=generator content="Hugo 0.140.0"><meta name=description content="minuk.dev wiki"><meta name=keywords content="hugo,site,new"><meta name=author content="Min-Uk.Lee"><title>coc (vim plugin coc) |
minuk dev wiki
</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></head><body><header class=header><div class=header_left><a href=/><img class=logo src=/images/Rb.png alt=logo>
MinUk.Dev</a></div><div class=header_middle>coc (vim plugin coc)</div></header><main><article class=main><div class=title><h1 class=title-header>coc (vim plugin coc)</h1></div><a href=https://github.com/minuk-dev/minuk-dev.github.io/blame/master/content/wiki/coc.md><h5>created : Wed, 15 Apr 2020 23:13:04 +0900</h5><h5>modified : Fri, 04 Dec 2020 13:12:09 +0900</h5></a><div class=article-meta><div class="breadcumb content"><i class="bi bi-folder"></i>
[[vim]]</div></div><div class=list-terms><ul><i class="bi bi-tags" title=Tags></i>
<a href=/tags/coc class=tag-btn>coc</a>
<a href=/tags/vim class=tag-btn>vim</a></ul></div><aside class=navbar id=nav-toc style=text-align:left><nav id=TableOfContents><ul><li><a href=#간단-설명>간단 설명</a></li><li><a href=#설치하기>설치하기</a><ul><li><a href=#설치-삽질기>설치 삽질기</a></li></ul></li><li><a href=#설정하기>설정하기</a></li><li><a href=#language-server-설치>Language Server 설치</a><ul><li><a href=#c-language-server-설치>C++ Language Server 설치</a></li></ul></li><li><a href=#원하는-폴더-헤더파일로-잡아주기>원하는 폴더 헤더파일로 잡아주기</a></li></ul></nav></aside><div class=content><h2 id=간단-설명>간단 설명</h2><ul><li>Visual Studio Code 와 동시에 나온 Language Server (동시에 나왔는지는 확실치 않음)을 vim에도 적용하는 플러그인이다.</li><li>일부 언어들은 이미 이 플러그인을 만든 사람이 쉽게쉽게 설치 가능하도록 해놨다.</li><li>다른 언어는 삽질을 해서 알아냈다.</li></ul><h2 id=설치하기>설치하기</h2><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=Plug%20%27neoclide/coc.nvim%27,%20%7b%20%27do%27:%20%27./install.sh%27%20%7d>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=display:flex><span><span style=color:#a6e22e>Plug</span> <span style=color:#e6db74>&#39;neoclide/coc.nvim&#39;</span>, { <span style=color:#e6db74>&#39;do&#39;</span>: <span style=color:#e6db74>&#39;./install.sh&#39;</span> }</span></span></code></pre></div></div><ul><li>vimrc에 추가했다. 공식 github를 참고한거랑 다르게 썻는데, 공식에 나온대로 하니 잘 설치가 안되서 하다보니 저렇게 해서 됬다.</li></ul><h3 id=설치-삽질기>설치 삽질기</h3><ul><li>Vim-Plug가 말썽을 부린건지, git clone 과정에서 자꾸 실패했다. 그냥 vim 플러그인 디렉토리로 가서 디렉토리를 밀어버리고 다시 하니 정상적으로 됬다.</li><li>vimrc에서 최하단에 추가했는데 Coc Command가 하나도 동작하지 않았다. vimrc의 맨 윗부분으로 올리니 잘 작동된다.</li></ul><h2 id=설정하기>설정하기</h2><ul><li>공식에 나와있는거 + 맨 아랫줄 delimitMate만 추가해줬다.(Q&amp;A에 있길래 하란대로 했다.)</li></ul><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data="%22%20TextEdit%20might%20fail%20if%20hidden%20is%20not%20set.%0aset%20hidden%0a%0a%22%20Some%20servers%20have%20issues%20with%20backup%20files,%20see%20#649.%0aset%20nobackup%0aset%20nowritebackup%0a%0a%22%20Give%20more%20space%20for%20displaying%20messages.%0aset%20cmdheight=2%0a%0a%22%20Having%20longer%20updatetime%20%28default%20is%204000%20ms%20=%204%20s%29%20leads%20to%20noticeable%0a%22%20delays%20and%20poor%20user%20experience.%0aset%20updatetime=300%0a%0a%22%20Don%27t%20pass%20messages%20to%20%7cins-completion-menu%7c.%0aset%20shortmess+=c%0a%0a%22%20Always%20show%20the%20signcolumn,%20otherwise%20it%20would%20shift%20the%20text%20each%20time%0a%22%20diagnostics%20appear/become%20resolved.%0aset%20signcolumn=yes%0a%0a%22%20Use%20tab%20for%20trigger%20completion%20with%20characters%20ahead%20and%20navigate.%0a%22%20NOTE:%20Use%20command%20%27:verbose%20imap%20%3ctab%3e%27%20to%20make%20sure%20tab%20is%20not%20mapped%20by%0a%22%20other%20plugin%20before%20putting%20this%20into%20your%20config.%0ainoremap%20%3csilent%3e%3cexpr%3e%20%3cTAB%3e%0a%20%20%20%20%20%20%5c%20pumvisible%28%29%20?%20%22%5c%3cC-n%3e%22%20:%0a%20%20%20%20%20%20%5c%20%3cSID%3echeck_back_space%28%29%20?%20%22%5c%3cTAB%3e%22%20:%0a%20%20%20%20%20%20%5c%20coc#refresh%28%29%0ainoremap%20%3cexpr%3e%3cS-TAB%3e%20pumvisible%28%29%20?%20%22%5c%3cC-p%3e%22%20:%20%22%5c%3cC-h%3e%22%0a%0afunction!%20s:check_back_space%28%29%20abort%0a%20%20let%20col%20=%20col%28%27.%27%29%20-%201%0a%20%20return%20!col%20%7c%7c%20getline%28%27.%27%29[col%20-%201]%20%20=~#%20%27%5cs%27%0aendfunction%0a%0a%22%20Use%20%3cc-space%3e%20to%20trigger%20completion.%0ainoremap%20%3csilent%3e%3cexpr%3e%20%3cc-space%3e%20coc#refresh%28%29%0a%0a%22%20Use%20%3ccr%3e%20to%20confirm%20completion,%20%60%3cC-g%3eu%60%20means%20break%20undo%20chain%20at%20current%0a%22%20position.%20Coc%20only%20does%20snippet%20and%20additional%20edit%20on%20confirm.%0aif%20exists%28%27*complete_info%27%29%0a%20%20inoremap%20%3cexpr%3e%20%3ccr%3e%20complete_info%28%29[%22selected%22]%20!=%20%22-1%22%20?%20%22%5c%3cC-y%3e%22%20:%20%22%5c%3cC-g%3eu%5c%3cCR%3e%22%0aelse%0a%20%20imap%20%3cexpr%3e%20%3ccr%3e%20pumvisible%28%29%20?%20%22%5c%3cC-y%3e%22%20:%20%22%5c%3cC-g%3eu%5c%3cCR%3e%22%0aendif%0a%0a%22%20Use%20%60[g%60%20and%20%60]g%60%20to%20navigate%20diagnostics%0anmap%20%3csilent%3e%20[g%20%3cPlug%3e%28coc-diagnostic-prev%29%0anmap%20%3csilent%3e%20]g%20%3cPlug%3e%28coc-diagnostic-next%29%0a%0a%22%20GoTo%20code%20navigation.%0anmap%20%3csilent%3e%20gd%20%3cPlug%3e%28coc-definition%29%0anmap%20%3csilent%3e%20gy%20%3cPlug%3e%28coc-type-definition%29%0anmap%20%3csilent%3e%20gi%20%3cPlug%3e%28coc-implementation%29%0anmap%20%3csilent%3e%20gr%20%3cPlug%3e%28coc-references%29%0a%0a%22%20Use%20K%20to%20show%20documentation%20in%20preview%20window.%0annoremap%20%3csilent%3e%20K%20:call%20%3cSID%3eshow_documentation%28%29%3cCR%3e%0a%0afunction!%20s:show_documentation%28%29%0a%20%20if%20%28index%28[%27vim%27,%27help%27],%20&amp;filetype%29%20%3e=%200%29%0a%20%20%20%20execute%20%27h%20%27.expand%28%27%3ccword%3e%27%29%0a%20%20else%0a%20%20%20%20call%20CocAction%28%27doHover%27%29%0a%20%20endif%0aendfunction%0a%0a%22%20Highlight%20the%20symbol%20and%20its%20references%20when%20holding%20the%20cursor.%0aautocmd%20CursorHold%20*%20silent%20call%20CocActionAsync%28%27highlight%27%29%0a%0a%22%20Symbol%20renaming.%0anmap%20%3cleader%3ern%20%3cPlug%3e%28coc-rename%29%0a%0a%22%20Formatting%20selected%20code.%0axmap%20%3cleader%3ef%20%20%3cPlug%3e%28coc-format-selected%29%0anmap%20%3cleader%3ef%20%20%3cPlug%3e%28coc-format-selected%29%0a%0aaugroup%20mygroup%0a%20%20autocmd!%0a%20%20%22%20Setup%20formatexpr%20specified%20filetype%28s%29.%0a%20%20autocmd%20FileType%20typescript,json%20setl%20formatexpr=CocAction%28%27formatSelected%27%29%0a%20%20%22%20Update%20signature%20help%20on%20jump%20placeholder.%0a%20%20autocmd%20User%20CocJumpPlaceholder%20call%20CocActionAsync%28%27showSignatureHelp%27%29%0aaugroup%20end%0a%0a%22%20Applying%20codeAction%20to%20the%20selected%20region.%0a%22%20Example:%20%60%3cleader%3eaap%60%20for%20current%20paragraph%0axmap%20%3cleader%3ea%20%20%3cPlug%3e%28coc-codeaction-selected%29%0anmap%20%3cleader%3ea%20%20%3cPlug%3e%28coc-codeaction-selected%29%0a%0a%22%20Remap%20keys%20for%20applying%20codeAction%20to%20the%20current%20line.%0anmap%20%3cleader%3eac%20%20%3cPlug%3e%28coc-codeaction%29%0a%22%20Apply%20AutoFix%20to%20problem%20on%20the%20current%20line.%0anmap%20%3cleader%3eqf%20%20%3cPlug%3e%28coc-fix-current%29%0a%0a%22%20Introduce%20function%20text%20object%0a%22%20NOTE:%20Requires%20%27textDocument.documentSymbol%27%20support%20from%20the%20language%20server.%0axmap%20if%20%3cPlug%3e%28coc-funcobj-i%29%0axmap%20af%20%3cPlug%3e%28coc-funcobj-a%29%0aomap%20if%20%3cPlug%3e%28coc-funcobj-i%29%0aomap%20af%20%3cPlug%3e%28coc-funcobj-a%29%0a%0a%22%20Use%20%3cTAB%3e%20for%20selections%20ranges.%0a%22%20NOTE:%20Requires%20%27textDocument/selectionRange%27%20support%20from%20the%20language%20server.%0a%22%20coc-tsserver,%20coc-python%20are%20the%20examples%20of%20servers%20that%20support%20it.%0anmap%20%3csilent%3e%20%3cTAB%3e%20%3cPlug%3e%28coc-range-select%29%0axmap%20%3csilent%3e%20%3cTAB%3e%20%3cPlug%3e%28coc-range-select%29%0a%0a%22%20Add%20%60:Format%60%20command%20to%20format%20current%20buffer.%0acommand!%20-nargs=0%20Format%20:call%20CocAction%28%27format%27%29%0a%0a%22%20Add%20%60:Fold%60%20command%20to%20fold%20current%20buffer.%0acommand!%20-nargs=?%20Fold%20:call%20%20%20%20%20CocAction%28%27fold%27,%20%3cf-args%3e%29%0a%0a%22%20Add%20%60:OR%60%20command%20for%20organize%20imports%20of%20the%20current%20buffer.%0acommand!%20-nargs=0%20OR%20%20%20:call%20%20%20%20%20CocAction%28%27runCommand%27,%20%27editor.action.organizeImport%27%29%0a%0a%22%20Add%20%28Neo%29Vim%27s%20native%20statusline%20support.%0a%22%20NOTE:%20Please%20see%20%60:h%20coc-status%60%20for%20integrations%20with%20external%20plugins%20that%0a%22%20provide%20custom%20statusline:%20lightline.vim,%20vim-airline.%0aset%20statusline%5e=%25%7bcoc#status%28%29%7d%25%7bget%28b:,%27coc_current_function%27,%27%27%29%7d%0a%0a%22%20Mappings%20using%20CoCList:%0a%22%20Show%20all%20diagnostics.%0annoremap%20%3csilent%3e%20%3cspace%3ea%20%20:%3cC-u%3eCocList%20diagnostics%3ccr%3e%0a%22%20Manage%20extensions.%0annoremap%20%3csilent%3e%20%3cspace%3ee%20%20:%3cC-u%3eCocList%20extensions%3ccr%3e%0a%22%20Show%20commands.%0annoremap%20%3csilent%3e%20%3cspace%3ec%20%20:%3cC-u%3eCocList%20commands%3ccr%3e%0a%22%20Find%20symbol%20of%20current%20document.%0annoremap%20%3csilent%3e%20%3cspace%3eo%20%20:%3cC-u%3eCocList%20outline%3ccr%3e%0a%22%20Search%20workspace%20symbols.%0annoremap%20%3csilent%3e%20%3cspace%3es%20%20:%3cC-u%3eCocList%20-I%20symbols%3ccr%3e%0a%22%20Do%20default%20action%20for%20next%20item.%0annoremap%20%3csilent%3e%20%3cspace%3ej%20%20:%3cC-u%3eCocNext%3cCR%3e%0a%22%20Do%20default%20action%20for%20previous%20item.%0annoremap%20%3csilent%3e%20%3cspace%3ek%20%20:%3cC-u%3eCocPrev%3cCR%3e%0a%22%20Resume%20latest%20coc%20list.%0annoremap%20%3csilent%3e%20%3cspace%3ep%20%20:%3cC-u%3eCocListResume%3cCR%3e%0aimap%20%3cexpr%3e%20%3ccr%3e%20pumvisible%28%29%20?%20%22%5c%3cC-y%3e%22%20:%20%22%5c%3cC-g%3eu%5c%3cPlug%3edelimitMateCR%22">
<i class="bi bi-copy"></i></button></div><pre><code>&#34; TextEdit might fail if hidden is not set.
set hidden

&#34; Some servers have issues with backup files, see #649.
set nobackup
set nowritebackup

&#34; Give more space for displaying messages.
set cmdheight=2

&#34; Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable
&#34; delays and poor user experience.
set updatetime=300

&#34; Don&#39;t pass messages to |ins-completion-menu|.
set shortmess&#43;=c

&#34; Always show the signcolumn, otherwise it would shift the text each time
&#34; diagnostics appear/become resolved.
set signcolumn=yes

&#34; Use tab for trigger completion with characters ahead and navigate.
&#34; NOTE: Use command &#39;:verbose imap &lt;tab&gt;&#39; to make sure tab is not mapped by
&#34; other plugin before putting this into your config.
inoremap &lt;silent&gt;&lt;expr&gt; &lt;TAB&gt;
      \ pumvisible() ? &#34;\&lt;C-n&gt;&#34; :
      \ &lt;SID&gt;check_back_space() ? &#34;\&lt;TAB&gt;&#34; :
      \ coc#refresh()
inoremap &lt;expr&gt;&lt;S-TAB&gt; pumvisible() ? &#34;\&lt;C-p&gt;&#34; : &#34;\&lt;C-h&gt;&#34;

function! s:check_back_space() abort
  let col = col(&#39;.&#39;) - 1
  return !col || getline(&#39;.&#39;)[col - 1]  =~# &#39;\s&#39;
endfunction

&#34; Use &lt;c-space&gt; to trigger completion.
inoremap &lt;silent&gt;&lt;expr&gt; &lt;c-space&gt; coc#refresh()

&#34; Use &lt;cr&gt; to confirm completion, `&lt;C-g&gt;u` means break undo chain at current
&#34; position. Coc only does snippet and additional edit on confirm.
if exists(&#39;*complete_info&#39;)
  inoremap &lt;expr&gt; &lt;cr&gt; complete_info()[&#34;selected&#34;] != &#34;-1&#34; ? &#34;\&lt;C-y&gt;&#34; : &#34;\&lt;C-g&gt;u\&lt;CR&gt;&#34;
else
  imap &lt;expr&gt; &lt;cr&gt; pumvisible() ? &#34;\&lt;C-y&gt;&#34; : &#34;\&lt;C-g&gt;u\&lt;CR&gt;&#34;
endif

&#34; Use `[g` and `]g` to navigate diagnostics
nmap &lt;silent&gt; [g &lt;Plug&gt;(coc-diagnostic-prev)
nmap &lt;silent&gt; ]g &lt;Plug&gt;(coc-diagnostic-next)

&#34; GoTo code navigation.
nmap &lt;silent&gt; gd &lt;Plug&gt;(coc-definition)
nmap &lt;silent&gt; gy &lt;Plug&gt;(coc-type-definition)
nmap &lt;silent&gt; gi &lt;Plug&gt;(coc-implementation)
nmap &lt;silent&gt; gr &lt;Plug&gt;(coc-references)

&#34; Use K to show documentation in preview window.
nnoremap &lt;silent&gt; K :call &lt;SID&gt;show_documentation()&lt;CR&gt;

function! s:show_documentation()
  if (index([&#39;vim&#39;,&#39;help&#39;], &amp;filetype) &gt;= 0)
    execute &#39;h &#39;.expand(&#39;&lt;cword&gt;&#39;)
  else
    call CocAction(&#39;doHover&#39;)
  endif
endfunction

&#34; Highlight the symbol and its references when holding the cursor.
autocmd CursorHold * silent call CocActionAsync(&#39;highlight&#39;)

&#34; Symbol renaming.
nmap &lt;leader&gt;rn &lt;Plug&gt;(coc-rename)

&#34; Formatting selected code.
xmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)
nmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)

augroup mygroup
  autocmd!
  &#34; Setup formatexpr specified filetype(s).
  autocmd FileType typescript,json setl formatexpr=CocAction(&#39;formatSelected&#39;)
  &#34; Update signature help on jump placeholder.
  autocmd User CocJumpPlaceholder call CocActionAsync(&#39;showSignatureHelp&#39;)
augroup end

&#34; Applying codeAction to the selected region.
&#34; Example: `&lt;leader&gt;aap` for current paragraph
xmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)
nmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)

&#34; Remap keys for applying codeAction to the current line.
nmap &lt;leader&gt;ac  &lt;Plug&gt;(coc-codeaction)
&#34; Apply AutoFix to problem on the current line.
nmap &lt;leader&gt;qf  &lt;Plug&gt;(coc-fix-current)

&#34; Introduce function text object
&#34; NOTE: Requires &#39;textDocument.documentSymbol&#39; support from the language server.
xmap if &lt;Plug&gt;(coc-funcobj-i)
xmap af &lt;Plug&gt;(coc-funcobj-a)
omap if &lt;Plug&gt;(coc-funcobj-i)
omap af &lt;Plug&gt;(coc-funcobj-a)

&#34; Use &lt;TAB&gt; for selections ranges.
&#34; NOTE: Requires &#39;textDocument/selectionRange&#39; support from the language server.
&#34; coc-tsserver, coc-python are the examples of servers that support it.
nmap &lt;silent&gt; &lt;TAB&gt; &lt;Plug&gt;(coc-range-select)
xmap &lt;silent&gt; &lt;TAB&gt; &lt;Plug&gt;(coc-range-select)

&#34; Add `:Format` command to format current buffer.
command! -nargs=0 Format :call CocAction(&#39;format&#39;)

&#34; Add `:Fold` command to fold current buffer.
command! -nargs=? Fold :call     CocAction(&#39;fold&#39;, &lt;f-args&gt;)

&#34; Add `:OR` command for organize imports of the current buffer.
command! -nargs=0 OR   :call     CocAction(&#39;runCommand&#39;, &#39;editor.action.organizeImport&#39;)

&#34; Add (Neo)Vim&#39;s native statusline support.
&#34; NOTE: Please see `:h coc-status` for integrations with external plugins that
&#34; provide custom statusline: lightline.vim, vim-airline.
set statusline^=%{coc#status()}%{get(b:,&#39;coc_current_function&#39;,&#39;&#39;)}

&#34; Mappings using CoCList:
&#34; Show all diagnostics.
nnoremap &lt;silent&gt; &lt;space&gt;a  :&lt;C-u&gt;CocList diagnostics&lt;cr&gt;
&#34; Manage extensions.
nnoremap &lt;silent&gt; &lt;space&gt;e  :&lt;C-u&gt;CocList extensions&lt;cr&gt;
&#34; Show commands.
nnoremap &lt;silent&gt; &lt;space&gt;c  :&lt;C-u&gt;CocList commands&lt;cr&gt;
&#34; Find symbol of current document.
nnoremap &lt;silent&gt; &lt;space&gt;o  :&lt;C-u&gt;CocList outline&lt;cr&gt;
&#34; Search workspace symbols.
nnoremap &lt;silent&gt; &lt;space&gt;s  :&lt;C-u&gt;CocList -I symbols&lt;cr&gt;
&#34; Do default action for next item.
nnoremap &lt;silent&gt; &lt;space&gt;j  :&lt;C-u&gt;CocNext&lt;CR&gt;
&#34; Do default action for previous item.
nnoremap &lt;silent&gt; &lt;space&gt;k  :&lt;C-u&gt;CocPrev&lt;CR&gt;
&#34; Resume latest coc list.
nnoremap &lt;silent&gt; &lt;space&gt;p  :&lt;C-u&gt;CocListResume&lt;CR&gt;
imap &lt;expr&gt; &lt;cr&gt; pumvisible() ? &#34;\&lt;C-y&gt;&#34; : &#34;\&lt;C-g&gt;u\&lt;Plug&gt;delimitMateCR&#34;</code></pre></div><h2 id=language-server-설치>Language Server 설치</h2><p>CocInstall coc-html
CocInstall coc-snippet</p><ul><li>위에 있는 것 이외에도 공식 github에서 지원한다는거 그냥 다 깔았다. 귀찮더라</li></ul><h3 id=c-language-server-설치>C++ Language Server 설치</h3><ul><li>찾아보니 c++은 기본으로 되있는게 없어서 찾아보니 <code>ccls</code>라고 있어서 더 찾기도 귀찮고 깔아봐서 잘 되서 사용중이다.</li><li>대부분 <code>brew</code>기반으로 알려주는데 나는 우분투 서버기반이라서, 다른 방법을 찾아봤다.</li><li><code>snap install ccls --classic</code>을 실행했다.</li><li>이제 언어서버를 연결해줘야한다.</li><li>CocConfig 를 vim에서 실행한다.</li></ul><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=#ZgotmplZ>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;languageserver&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;ccls&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;command&#34;</span>: <span style=color:#e6db74>&#34;ccls&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;filetypes&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;c&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;cpp&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;objc&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;objcpp&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;rootPatterns&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;.ccls&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;compile_commands.json&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;.vim/&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;.git/&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;.hg/&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;initializationOptions&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;cache&#34;</span>: {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;directory&#34;</span>: <span style=color:#e6db74>&#34;/tmp/ccls&#34;</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><ul><li>찾아보니 프로젝트 폴더에서도 뭔가를 만들어 줘야한다고 하는데 따로 설정 안해도 잘 돌아서 냅뒀다.</li></ul><h2 id=원하는-폴더-헤더파일로-잡아주기>원하는 폴더 헤더파일로 잡아주기</h2><ul><li><code>CocLocalConfig</code>라는 명령어로 local vim을 설정해줄수 있다.</li><li>아래 나와있는 extraArgs 부분에 추가해줘서 적용했다.</li></ul><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=#ZgotmplZ>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;languageserver&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;ccls&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;command&#34;</span>: <span style=color:#e6db74>&#34;ccls&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;filetypes&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;c&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;cpp&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;objc&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;objcpp&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;rootPatterns&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;.ccls&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;compile_commands.json&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;.vim/&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;.git/&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;.hg/&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;initializationOptions&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;cache&#34;</span>: {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;directory&#34;</span>: <span style=color:#e6db74>&#34;/tmp/ccls&#34;</span>
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;clang&#34;</span>: {
</span></span><span style=display:flex><span>                  <span style=color:#f92672>&#34;resourceDir&#34;</span>: <span style=color:#e6db74>&#34;.&#34;</span>,
</span></span><span style=display:flex><span>                  <span style=color:#f92672>&#34;extraArgs&#34;</span>: [<span style=color:#e6db74>&#34;-isystem./&#34;</span>, <span style=color:#e6db74>&#34;-isystem./lib/kernel&#34;</span>, <span style=color:#e6db74>&#34;-isystem./lib&#34;</span>]
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><ul><li>CMake 를 쓸때의 방법</li></ul><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data="$%20cmake%20-H.%20-BDebug%20-DCMAKE_BUILD_TYPE=Debug%20-DCMAKE_EXPORT_COMPILE_COMMANDS=YES%0a$%20ln%20-s%20Debug/compile_commands.json%20.">
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cmake -H. -BDebug -DCMAKE_BUILD_TYPE<span style=color:#f92672>=</span>Debug -DCMAKE_EXPORT_COMPILE_COMMANDS<span style=color:#f92672>=</span>YES
</span></span><span style=display:flex><span>$ ln -s Debug/compile_commands.json .</span></span></code></pre></div></div></div><hr><div class=list-files><ul class=section-tree></ul></div></article><script src=/js/wikilink.js></script><div><script src=https://utteranc.es/client.js repo=minuk-dev/minuk-dev.github.io issue-term=pathname theme=github-dark crossorigin=anonymous async></script></div></main><footer class=footer><div class=footer-left></div><div class=footer-right><ul class=social><li><a href=/about>About</a></li><li><a href=https://github.com/minuk-dev>Github</a></li></ul></div></footer></body><script src=/js/dir_toggle.js></script><script src=/js/codeblock_copy.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css><script type=module>
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs";
mermaid.initialize({
  startOnLoad: true,
  theme: "dark",
});
</script></html>