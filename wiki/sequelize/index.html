<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://unpkg.com/simpledotcss/simple.css><link rel=stylesheet href=/css/main.css><meta name=generator content="Hugo 0.140.0"><meta name=description content="minuk.dev wiki"><meta name=keywords content="hugo,site,new"><meta name=author content="Min-Uk.Lee"><title>Sequelize |
minuk dev wiki
</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></head><body><header class=header><div class=header_left><a href=/><img class=logo src=/images/Rb.png alt=logo>
MinUk.Dev</a></div><div class=header_middle>Sequelize</div></header><main><article class=main><div class=title><h1 class=title-header>Sequelize</h1></div><a href=https://github.com/minuk-dev/minuk-dev.github.io/blame/master/content/wiki/Sequelize.md><h5>created : Tue, 07 Apr 2020 20:31:57 +0900</h5><h5>modified : Tue, 15 Mar 2022 02:41:22 +0900</h5></a><div class=article-meta><div class="breadcumb content"><i class="bi bi-folder"></i>
[[Javascript]]</div></div><div class=list-terms><ul><i class="bi bi-tags" title=Tags></i>
<a href=/tags/js class=tag-btn>js</a>
<a href=/tags/sequelize class=tag-btn>sequelize</a></ul></div><aside class=navbar id=nav-toc style=text-align:left><nav id=TableOfContents><ul><li><a href=#setting-up-a-connection>Setting up a connection</a></li><li><a href=#note-connection-pool-production>Note: connection pool (production)</a></li><li><a href=#testing-the-connection>Testing the connection</a></li></ul><ul><li><a href=#data-retrieval--finders>Data retrieval / Finders</a><ul><li><a href=#find---search-for-one-specific-element-in-the-database>find - Search for one specific element in the database</a></li><li><a href=#findandcountall---search-for-multiple-elements-in-the-database-returns-both-data-and-total-count>findAndCountAll - Search for multiple elements in the database, returns both data and total count</a></li><li><a href=#findall---search-for-multiple-elements-in-the-database>findAll - Search for multiple elements in the database</a></li><li><a href=#complex-filtering--or--not-queries>Complex filtering / OR / NOT queries</a></li></ul></li></ul></nav></aside><div class=content><h1 id=installation>Installation</h1><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=npm%20install%20--save%20sequelize%0a%0a#%20One%20of%20the%20following%0anpm%20install%20--save%20pg%20pg-hstore%20#%20Postgres%0anpm%20install%20-save%20mysql2%20#%20mysql%0anpm%20install%20--save%20mariadb%20#%20mariadb%0anpm%20install%20--save%20sqlite3%20#%20sqlite%0anpm%20install%20--save%20tedious%20#%20Microsoft%20SQL%20Server>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install --save sequelize
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># One of the following</span>
</span></span><span style=display:flex><span>npm install --save pg pg-hstore <span style=color:#75715e># Postgres</span>
</span></span><span style=display:flex><span>npm install -save mysql2 <span style=color:#75715e># mysql</span>
</span></span><span style=display:flex><span>npm install --save mariadb <span style=color:#75715e># mariadb</span>
</span></span><span style=display:flex><span>npm install --save sqlite3 <span style=color:#75715e># sqlite</span>
</span></span><span style=display:flex><span>npm install --save tedious <span style=color:#75715e># Microsoft SQL Server</span></span></span></code></pre></div></div><h1 id=configuration-typescript>Configuration (Typescript)</h1><h2 id=setting-up-a-connection>Setting up a connection</h2><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=#ZgotmplZ>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Sequelize</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;sequelize&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>DBConfituration</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>database</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>user</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>password</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>host</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dialect</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;mysql&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;postgres&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;sqlite&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;mariadb&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;msqle&#34;</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>undefined</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dbConfiguration</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>DBConfiguration</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>database</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;graph&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>user</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;graph&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>password</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;graph&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>host</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;localhost&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dialect</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;mysql&#34;</span>
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sequelize</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Sequelize</span>(
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dbConfiguration</span>.<span style=color:#a6e22e>database</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dbConfiguration</span>.<span style=color:#a6e22e>user</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dbConfiguration</span>.<span style=color:#a6e22e>password</span>,
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>host</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>dbConfiguration</span>.<span style=color:#a6e22e>host</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dialect</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>dbConfgiguration</span>.<span style=color:#a6e22e>dialect</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sequelize</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Sequelize</span>(<span style=color:#e6db74>&#39;postgres://user:pass@example.con:5432/dbname&#39;</span>);</span></span></code></pre></div></div><h2 id=note-connection-pool-production>Note: connection pool (production)</h2><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data="const%20sequelize%20=%20new%20Sequelize%28/*%20...%20*/,%20%7b%0a%20%20//%20...%0a%20%20pool:%20%7b%0a%20%20%20%20max:%205,%0a%20%20%20%20min:%200,%0a%20%20%20%20acquire:%2030000,%0a%20%20%20%20idle:%2010000,%0a%20%20%7d%0a%7d%29;">
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sequelize</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Sequelize</span>(<span style=color:#75715e>/* ... */</span>, {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pool</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>acquire</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>30000</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>idle</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10000</span>,
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>});</span></span></code></pre></div></div><h2 id=testing-the-connection>Testing the connection</h2><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=#ZgotmplZ>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>sequelize</span>
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>authenticate</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Connection has been established successfully.&#39;</span>);
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Unable to connect to the database:&#39;</span>, <span style=color:#a6e22e>err</span>);
</span></span><span style=display:flex><span>});</span></span></code></pre></div></div><ul><li>Sample Code (Typescript)</li></ul><h1 id=model-usage>Model usage</h1><h2 id=data-retrieval--finders>Data retrieval / Finders</h2><h3 id=find---search-for-one-specific-element-in-the-database>find - Search for one specific element in the database</h3><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data="//%20search%20for%20known%20ids%0aProject.findByPk%28123%29.then%28project%20=%3e%20%7b%0a%20%20//%20project%20will%20be%20an%20instance%20of%20Project%20and%20stores%20the%20content%20of%20the%20table%20entry%0a%20%20//%20with%20id%20123.%20if%20such%20an%20entry%20is%20not%20defined%20you%20will%20get%20null%0a%7d%29%0a%0a//%20search%20for%20attributes%0aProject.findOne%28%7b%20where:%20%7btitle:%20%27aProject%27%7d%20%7d%29.then%28project%20=%3e%20%7b%0a%20%20//%20project%20will%20be%20the%20first%20entry%20of%20the%20Projects%20table%20with%20the%20title%20%27aProject%27%20%7c%7c%20null%0a%7d%29%0a%0a%0aProject.findOne%28%7b%0a%20%20where:%20%7btitle:%20%27aProject%27%7d,%0a%20%20attributes:%20[%27id%27,%20[%27name%27,%20%27title%27]]%0a%7d%29.then%28project%20=%3e%20%7b%0a%20%20//%20project%20will%20be%20the%20first%20entry%20of%20the%20Projects%20table%20with%20the%20title%20%27aProject%27%20%7c%7c%20null%0a%20%20//%20project.get%28%27title%27%29%20will%20contain%20the%20name%20of%20the%20project%0a%7d%29%0a%0a###%20findOrCreate%20-%20Search%20for%20a%20specific%20element%20or%20create%20it%20if%20not%20available%0a%0aUser%0a%20%20.findOrCreate%28%7bwhere:%20%7busername:%20%27sdepold%27%7d,%20defaults:%20%7bjob:%20%27Technical%20Lead%20JavaScript%27%7d%7d%29%0a%20%20.then%28%28[user,%20created]%29%20=%3e%20%7b%0a%20%20%20%20console.log%28user.get%28%7b%0a%20%20%20%20%20%20plain:%20true%0a%20%20%20%20%7d%29%29%0a%20%20%20%20console.log%28created%29%0a%0a%20%20%20%20/*%0a%20%20%20%20%20findOrCreate%20returns%20an%20array%20containing%20the%20object%20that%20was%20found%20or%20created%20and%20a%20boolean%20that%0a%20%20%20%20%20will%20be%20true%20if%20a%20new%20object%20was%20created%20and%20false%20if%20not,%20like%20so:%0a%0a%20%20%20%20[%20%7b%0a%20%20%20%20%20%20%20%20username:%20%27sdepold%27,%0a%20%20%20%20%20%20%20%20job:%20%27Technical%20Lead%20JavaScript%27,%0a%20%20%20%20%20%20%20%20id:%201,%0a%20%20%20%20%20%20%20%20createdAt:%20Fri%20Mar%2022%202013%2021:%2028:%2034%20GMT%20+%200100%28CET%29,%0a%20%20%20%20%20%20%20%20updatedAt:%20Fri%20Mar%2022%202013%2021:%2028:%2034%20GMT%20+%200100%28CET%29%0a%20%20%20%20%20%20%7d,%0a%20%20%20%20%20%20true%20]%0a%0a%20In%20the%20example%20above,%20the%20array%20spread%20on%20line%203%20divides%20the%20array%20into%20its%202%20parts%20and%20passes%20them%0a%20%20as%20arguments%20to%20the%20callback%20function%20defined%20beginning%20at%20line%2039,%20which%20treats%20them%20as%20%22user%22%20and%0a%20%20%22created%22%20in%20this%20case.%20%28So%20%22user%22%20will%20be%20the%20object%20from%20index%200%20of%20the%20returned%20array%20and%0a%20%20%22created%22%20will%20equal%20%22true%22.%29%0a%20%20%20%20*/%0a%20%20%7d%29%0a%0aUser.create%28%7b%20username:%20%27fnord%27,%20job:%20%27omnomnom%27%20%7d%29%0a%20%20.then%28%28%29%20=%3e%20User.findOrCreate%28%7bwhere:%20%7busername:%20%27fnord%27%7d,%20defaults:%20%7bjob:%20%27something%20else%27%7d%7d%29%29%0a%20%20.then%28%28[user,%20created]%29%20=%3e%20%7b%0a%20%20%20%20console.log%28user.get%28%7b%0a%20%20%20%20%20%20plain:%20true%0a%20%20%20%20%7d%29%29%0a%20%20%20%20console.log%28created%29%0a%0a%20%20%20%20/*%0a%20%20%20%20In%20this%20example,%20findOrCreate%20returns%20an%20array%20like%20this:%0a%20%20%20%20[%20%7b%0a%20%20%20%20%20%20%20%20username:%20%27fnord%27,%0a%20%20%20%20%20%20%20%20job:%20%27omnomnom%27,%0a%20%20%20%20%20%20%20%20id:%202,%0a%20%20%20%20%20%20%20%20createdAt:%20Fri%20Mar%2022%202013%2021:%2028:%2034%20GMT%20+%200100%28CET%29,%0a%20%20%20%20%20%20%20%20updatedAt:%20Fri%20Mar%2022%202013%2021:%2028:%2034%20GMT%20+%200100%28CET%29%0a%20%20%20%20%20%20%7d,%0a%20%20%20%20%20%20false%0a%20%20%20%20]%0a%20%20%20%20The%20array%20returned%20by%20findOrCreate%20gets%20spread%20into%20its%202%20parts%20by%20the%20array%20spread%20on%20line%203,%20and%0a%20%20%20%20the%20parts%20will%20be%20passed%20as%202%20arguments%20to%20the%20callback%20function%20beginning%20on%20line%2069,%20which%20will%0a%20%20%20%20then%20treat%20them%20as%20%22user%22%20and%20%22created%22%20in%20this%20case.%20%28So%20%22user%22%20will%20be%20the%20object%20from%20index%200%0a%20%20%20%20of%20the%20returned%20array%20and%20%22created%22%20will%20equal%20%22false%22.%29%0a%20%20%20%20*/%0a%20%20%7d%29">
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// search for known ids
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findByPk</span>(<span style=color:#ae81ff>123</span>).<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>project</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// project will be an instance of Project and stores the content of the table entry
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// with id 123. if such an entry is not defined you will get null
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// search for attributes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findOne</span>({ <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;aProject&#39;</span>} }).<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>project</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// project will be the first entry of the Projects table with the title &#39;aProject&#39; || null
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findOne</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;aProject&#39;</span>},
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>attributes</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;id&#39;</span>, [<span style=color:#e6db74>&#39;name&#39;</span>, <span style=color:#e6db74>&#39;title&#39;</span>]]
</span></span><span style=display:flex><span>}).<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>project</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// project will be the first entry of the Projects table with the title &#39;aProject&#39; || null
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// project.get(&#39;title&#39;) will contain the name of the project
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>###</span> <span style=color:#a6e22e>findOrCreate</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>Search</span> <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>specific</span> <span style=color:#a6e22e>element</span> <span style=color:#a6e22e>or</span> <span style=color:#a6e22e>create</span> <span style=color:#a6e22e>it</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>not</span> <span style=color:#a6e22e>available</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>User</span>
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>findOrCreate</span>({<span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;sdepold&#39;</span>}, <span style=color:#a6e22e>defaults</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>job</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Technical Lead JavaScript&#39;</span>}})
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(([<span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>created</span>]) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>get</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>plain</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>created</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>     findOrCreate returns an array containing the object that was found or created and a boolean that
</span></span></span><span style=display:flex><span><span style=color:#75715e>     will be true if a new object was created and false if not, like so:
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>    [ {
</span></span></span><span style=display:flex><span><span style=color:#75715e>        username: &#39;sdepold&#39;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        job: &#39;Technical Lead JavaScript&#39;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        id: 1,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        createdAt: Fri Mar 22 2013 21: 28: 34 GMT + 0100(CET),
</span></span></span><span style=display:flex><span><span style=color:#75715e>        updatedAt: Fri Mar 22 2013 21: 28: 34 GMT + 0100(CET)
</span></span></span><span style=display:flex><span><span style=color:#75715e>      },
</span></span></span><span style=display:flex><span><span style=color:#75715e>      true ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e> In the example above, the array spread on line 3 divides the array into its 2 parts and passes them
</span></span></span><span style=display:flex><span><span style=color:#75715e>  as arguments to the callback function defined beginning at line 39, which treats them as &#34;user&#34; and
</span></span></span><span style=display:flex><span><span style=color:#75715e>  &#34;created&#34; in this case. (So &#34;user&#34; will be the object from index 0 of the returned array and
</span></span></span><span style=display:flex><span><span style=color:#75715e>  &#34;created&#34; will equal &#34;true&#34;.)
</span></span></span><span style=display:flex><span><span style=color:#75715e>    */</span>
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>User</span>.<span style=color:#a6e22e>create</span>({ <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;fnord&#39;</span>, <span style=color:#a6e22e>job</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;omnomnom&#39;</span> })
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(() =&gt; <span style=color:#a6e22e>User</span>.<span style=color:#a6e22e>findOrCreate</span>({<span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;fnord&#39;</span>}, <span style=color:#a6e22e>defaults</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>job</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;something else&#39;</span>}}))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(([<span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>created</span>]) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>get</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>plain</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>created</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>    In this example, findOrCreate returns an array like this:
</span></span></span><span style=display:flex><span><span style=color:#75715e>    [ {
</span></span></span><span style=display:flex><span><span style=color:#75715e>        username: &#39;fnord&#39;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        job: &#39;omnomnom&#39;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        id: 2,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        createdAt: Fri Mar 22 2013 21: 28: 34 GMT + 0100(CET),
</span></span></span><span style=display:flex><span><span style=color:#75715e>        updatedAt: Fri Mar 22 2013 21: 28: 34 GMT + 0100(CET)
</span></span></span><span style=display:flex><span><span style=color:#75715e>      },
</span></span></span><span style=display:flex><span><span style=color:#75715e>      false
</span></span></span><span style=display:flex><span><span style=color:#75715e>    ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>    The array returned by findOrCreate gets spread into its 2 parts by the array spread on line 3, and
</span></span></span><span style=display:flex><span><span style=color:#75715e>    the parts will be passed as 2 arguments to the callback function beginning on line 69, which will
</span></span></span><span style=display:flex><span><span style=color:#75715e>    then treat them as &#34;user&#34; and &#34;created&#34; in this case. (So &#34;user&#34; will be the object from index 0
</span></span></span><span style=display:flex><span><span style=color:#75715e>    of the returned array and &#34;created&#34; will equal &#34;false&#34;.)
</span></span></span><span style=display:flex><span><span style=color:#75715e>    */</span>
</span></span><span style=display:flex><span>  })</span></span></code></pre></div></div><h3 id=findandcountall---search-for-multiple-elements-in-the-database-returns-both-data-and-total-count>findAndCountAll - Search for multiple elements in the database, returns both data and total count</h3><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=#ZgotmplZ>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>Project</span>
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>findAndCountAll</span>({
</span></span><span style=display:flex><span>     <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>          [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>like</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;foo%&#39;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>     },
</span></span><span style=display:flex><span>     <span style=color:#a6e22e>offset</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>,
</span></span><span style=display:flex><span>     <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>result</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>count</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>rows</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>User</span>.<span style=color:#a6e22e>findAndCountAll</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>include</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>     { <span style=color:#a6e22e>model</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Profile</span>, <span style=color:#a6e22e>required</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> }
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>User</span>.<span style=color:#a6e22e>findAndCountAll</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>include</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>     { <span style=color:#a6e22e>model</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Profile</span>, <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>active</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> }}
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>});</span></span></code></pre></div></div><h3 id=findall---search-for-multiple-elements-in-the-database>findAll - Search for multiple elements in the database</h3><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data="//%20find%20multiple%20entries%0aProject.findAll%28%29.then%28projects%20=%3e%20%7b%0a%20%20//%20projects%20will%20be%20an%20array%20of%20all%20Project%20instances%0a%7d%29%0a%0a//%20search%20for%20specific%20attributes%20-%20hash%20usage%0aProject.findAll%28%7b%20where:%20%7b%20name:%20%27A%20Project%27%20%7d%20%7d%29.then%28projects%20=%3e%20%7b%0a%20%20//%20projects%20will%20be%20an%20array%20of%20Project%20instances%20with%20the%20specified%20name%0a%7d%29%0a%0a//%20search%20within%20a%20specific%20range%0aProject.findAll%28%7b%20where:%20%7b%20id:%20[1,2,3]%20%7d%20%7d%29.then%28projects%20=%3e%20%7b%0a%20%20//%20projects%20will%20be%20an%20array%20of%20Projects%20having%20the%20id%201,%202%20or%203%0a%20%20//%20this%20is%20actually%20doing%20an%20IN%20query%0a%7d%29%0a%0aProject.findAll%28%7b%0a%20%20where:%20%7b%0a%20%20%20%20id:%20%7b%0a%20%20%20%20%20%20[Op.and]:%20%7ba:%205%7d,%20%20%20%20%20%20%20%20%20%20%20//%20AND%20%28a%20=%205%29%0a%20%20%20%20%20%20[Op.or]:%20[%7ba:%205%7d,%20%7ba:%206%7d],%20%20//%20%28a%20=%205%20OR%20a%20=%206%29%0a%20%20%20%20%20%20[Op.gt]:%206,%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20id%20%3e%206%0a%20%20%20%20%20%20[Op.gte]:%206,%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20id%20%3e=%206%0a%20%20%20%20%20%20[Op.lt]:%2010,%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20id%20%3c%2010%0a%20%20%20%20%20%20[Op.lte]:%2010,%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20id%20%3c=%2010%0a%20%20%20%20%20%20[Op.ne]:%2020,%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20id%20!=%2020%0a%20%20%20%20%20%20[Op.between]:%20[6,%2010],%20%20%20%20%20//%20BETWEEN%206%20AND%2010%0a%20%20%20%20%20%20[Op.notBetween]:%20[11,%2015],%20//%20NOT%20BETWEEN%2011%20AND%2015%0a%20%20%20%20%20%20[Op.in]:%20[1,%202],%20%20%20%20%20%20%20%20%20%20%20//%20IN%20[1,%202]%0a%20%20%20%20%20%20[Op.notIn]:%20[1,%202],%20%20%20%20%20%20%20%20//%20NOT%20IN%20[1,%202]%0a%20%20%20%20%20%20[Op.like]:%20%27%25hat%27,%20%20%20%20%20%20%20%20%20//%20LIKE%20%27%25hat%27%0a%20%20%20%20%20%20[Op.notLike]:%20%27%25hat%27,%20%20%20%20%20%20%20//%20NOT%20LIKE%20%27%25hat%27%0a%20%20%20%20%20%20[Op.iLike]:%20%27%25hat%27,%20%20%20%20%20%20%20%20%20//%20ILIKE%20%27%25hat%27%20%28case%20insensitive%29%20%20%28PG%20only%29%0a%20%20%20%20%20%20[Op.notILike]:%20%27%25hat%27,%20%20%20%20%20%20//%20NOT%20ILIKE%20%27%25hat%27%20%20%28PG%20only%29%0a%20%20%20%20%20%20[Op.overlap]:%20[1,%202],%20%20%20%20%20%20%20//%20&&%20[1,%202]%20%28PG%20array%20overlap%20operator%29%0a%20%20%20%20%20%20[Op.contains]:%20[1,%202],%20%20%20%20%20%20//%20@%3e%20[1,%202]%20%28PG%20array%20contains%20operator%29%0a%20%20%20%20%20%20[Op.contained]:%20[1,%202],%20%20%20%20%20//%20%3c@%20[1,%202]%20%28PG%20array%20contained%20by%20operator%29%0a%20%20%20%20%20%20[Op.any]:%20[2,3]%20%20%20%20%20%20%20%20%20%20%20%20//%20ANY%20ARRAY[2,%203]::INTEGER%20%28PG%20only%29%0a%20%20%20%20%7d,%0a%20%20%20%20status:%20%7b%0a%20%20%20%20%20%20[Op.not]:%20false%20%20%20%20%20%20%20%20%20%20%20//%20status%20NOT%20FALSE%0a%20%20%20%20%7d%0a%20%20%7d%0a%7d%29">
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// find multiple entries
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findAll</span>().<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>projects</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// projects will be an array of all Project instances
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// search for specific attributes - hash usage
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findAll</span>({ <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;A Project&#39;</span> } }).<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>projects</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// projects will be an array of Project instances with the specified name
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// search within a specific range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findAll</span>({ <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>] } }).<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>projects</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// projects will be an array of Projects having the id 1, 2 or 3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// this is actually doing an IN query
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findAll</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>and</span>]<span style=color:#f92672>:</span> {<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>},           <span style=color:#75715e>// AND (a = 5)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>or</span>]<span style=color:#f92672>:</span> [{<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>}, {<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>6</span>}],  <span style=color:#75715e>// (a = 5 OR a = 6)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>gt</span>]<span style=color:#f92672>:</span> <span style=color:#ae81ff>6</span>,                <span style=color:#75715e>// id &gt; 6
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>gte</span>]<span style=color:#f92672>:</span> <span style=color:#ae81ff>6</span>,               <span style=color:#75715e>// id &gt;= 6
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>lt</span>]<span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>,               <span style=color:#75715e>// id &lt; 10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>lte</span>]<span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>,              <span style=color:#75715e>// id &lt;= 10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>ne</span>]<span style=color:#f92672>:</span> <span style=color:#ae81ff>20</span>,               <span style=color:#75715e>// id != 20
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>between</span>]<span style=color:#f92672>:</span> [<span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>10</span>],     <span style=color:#75715e>// BETWEEN 6 AND 10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>notBetween</span>]<span style=color:#f92672>:</span> [<span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>15</span>], <span style=color:#75715e>// NOT BETWEEN 11 AND 15
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#66d9ef>in</span>]<span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],           <span style=color:#75715e>// IN [1, 2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>notIn</span>]<span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],        <span style=color:#75715e>// NOT IN [1, 2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>like</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;%hat&#39;</span>,         <span style=color:#75715e>// LIKE &#39;%hat&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>notLike</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;%hat&#39;</span>,       <span style=color:#75715e>// NOT LIKE &#39;%hat&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>iLike</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;%hat&#39;</span>,         <span style=color:#75715e>// ILIKE &#39;%hat&#39; (case insensitive)  (PG only)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>notILike</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;%hat&#39;</span>,      <span style=color:#75715e>// NOT ILIKE &#39;%hat&#39;  (PG only)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>overlap</span>]<span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],       <span style=color:#75715e>// &amp;&amp; [1, 2] (PG array overlap operator)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>contains</span>]<span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],      <span style=color:#75715e>// @&gt; [1, 2] (PG array contains operator)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>contained</span>]<span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],     <span style=color:#75715e>// &lt;@ [1, 2] (PG array contained by operator)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>any</span>]<span style=color:#f92672>:</span> [<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>]            <span style=color:#75715e>// ANY ARRAY[2, 3]::INTEGER (PG only)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>status</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>not</span>]<span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>           <span style=color:#75715e>// status NOT FALSE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>})</span></span></code></pre></div></div><h3 id=complex-filtering--or--not-queries>Complex filtering / OR / NOT queries</h3><div class=codeblock><div class=copy-button-box><button class=copy-button state=copy data=#ZgotmplZ>
<i class="bi bi-copy"></i></button></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findOne</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a project&#39;</span>,
</span></span><span style=display:flex><span>    [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>or</span>]<span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      { <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>] },
</span></span><span style=display:flex><span>      { <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> { [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>gt</span>]<span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span> } }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Project</span>.<span style=color:#a6e22e>findOne</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a project&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>or</span>]<span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>        { [<span style=color:#a6e22e>Op</span>.<span style=color:#a6e22e>gt</span>]<span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span> }
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>})</span></span></code></pre></div></div></div><hr><div class=list-files><ul class=section-tree></ul></div></article><script src=/js/wikilink.js></script><div><script src=https://utteranc.es/client.js repo=minuk-dev/minuk-dev.github.io issue-term=pathname theme=github-dark crossorigin=anonymous async></script></div></main><footer class=footer><div class=footer-left></div><div class=footer-right><ul class=social><li><a href=/about>About</a></li><li><a href=https://github.com/minuk-dev>Github</a></li></ul></div></footer></body><script src=/js/dir_toggle.js></script><script src=/js/codeblock_copy.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css><script type=module>
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs";
mermaid.initialize({
  startOnLoad: true,
  theme: "dark",
});
</script></html>