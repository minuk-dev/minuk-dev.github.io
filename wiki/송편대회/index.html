<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://unpkg.com/simpledotcss/simple.css><link rel=stylesheet href=/css/main.css><meta name=generator content="Hugo 0.140.0"><meta name=description content="minuk.dev wiki"><meta name=keywords content="hugo,site,new"><meta name=author content="Min-Uk.Lee"><title>송편 생성기 (추석 대회) |
minuk dev wiki
</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></head><body><header class=header><div class=header_left><a href=/><img class=logo src=/images/Rb.png alt=logo>
MinUk.Dev</a></div><div class=header_middle>송편 생성기 (추석 대회)</div></header><main><article class=main><div class=title><h1 class=title-header>송편 생성기 (추석 대회)</h1></div><a href=https://github.com/minuk-dev/minuk-dev.github.io/blame/master/content/wiki/%ec%86%a1%ed%8e%b8%eb%8c%80%ed%9a%8c.md><h5>created : Tue, 07 Apr 2020 20:16:06 +0900</h5><h5>modified : Tue, 15 Mar 2022 02:14:00 +0900</h5></a><div class=article-meta><div class="breadcumb content"><i class="bi bi-folder"></i>
[[계룡 개발 모임]]</div></div><div class=list-terms><ul><i class="bi bi-tags" title=Tags></i>
<a href=/tags/%ea%b3%84%ea%b0%9c%eb%aa%a8 class=tag-btn>계개모</a>
<a href=/tags/%ec%b6%94%ec%84%9d%eb%8c%80%ed%9a%8c class=tag-btn>추석대회</a></ul></div><aside class=navbar id=nav-toc style=text-align:left><nav id=TableOfContents><ul><li><a href=#0-configuration>0. Configuration</a><ul><li><a href=#anyenv-로-pyenv-설치>anyenv 로 pyenv 설치</a></li></ul></li><li><a href=#1-keras-test>1. Keras Test</a></li><li><a href=#2-송편-이미지-크롤링하기>2. 송편 이미지 크롤링하기</a></li><li><a href=#3-송편-이미지-학습시키기>3. 송편 이미지 학습시키기</a></li><li><a href=#4-해상도-높여서-다시-학습>4. 해상도 높여서 다시 학습??</a></li><li><a href=#5-summary>5. Summary</a></li></ul></nav></aside><div class=content><h1 id=추석을-맞아-송편을-창의적으로-출력하기-대회가-열렸다-먼가-인공지능으로-가장-완벽한-송편을-출력해보고-싶어졌다>추석을 맞아 송편을 창의적으로 출력하기 대회가 열렸다. 먼가 인공지능으로 가장 완벽한 송편을 출력해보고 싶어졌다.</h1><h2 id=0-configuration>0. Configuration</h2><p>먼저 인공지능 스택으로 배운건 Tensorflow, Keras이기 때문에 언어는 편하게 모두 python으로 하기로 결정했다.</p><p>그렇게 언어를 정하고 과정을 다음과 같이 나눴다.</p><ol><li>송편 이미지 크롤링 하기</li><li>Keras를 통해 GAN모델을 구현해서 한번 테스트 해보기</li><li>나온 결과를 확인하고 모델을 학습 데이터 특성에 맞춰서 재설계, 데이터 가공, 통계적으로 분석&mldr; 등등 원하는 결과를 내도록 설계</li></ol><p>이렇게 정하고 나니 필요한 라이브러리는 다음과 같았다. <code>requests, beautifulsoup, tensorflow, keras, pandas</code></p><p>최근에 <code>i3</code>로 환경을 재구축하다보니 재대로된 python 환경이 하나도 없어서 겸사겸사 아는분 ~~(양예비역님 떠나고 나서야 빛인줄 알았습니다.~~이 추천해준 anyenv 까지 설정해보기로 했습니다.</p><h3 id=anyenv-로-pyenv-설치>anyenv 로 pyenv 설치</h3><p><code>git clone [https://github.com/anyenv/anyenv](https://github.com/anyenv/anyenv) ~/.anyenv</code></p><p><code>echo 'export PATH="$HOME/.anyenv/bin$PATH"' >> ~/.zshrc</code></p><p><code>echo 'eval "$(anyenv init -)"' >> ~/.zshrc</code></p><p>anyenv를 다 깔았으니 pyenv를 깔자</p><p><code>anyenv install pyenv</code></p><p>근데 알아보니까 pyenv 는 pyenv-virtualenv plugin이 있으면 virtualenv 를 쉽게 할 수 있다고 한다.</p><p><code>git clone git/git://github.com/yyuu/pyenv-virtualenv ~/.anyenv/envs/pyenv/plugins/pyenv-virtualenv</code></p><p><code>echo 'eval "$(pyenv virtualenv-init -)"' >> ~/.zshrc</code></p><p>금방 다깔았다.</p><p>이제 pyenv 설정이 끝났다. workspace 폴더나 만들어주자</p><p>나는 <code>~/workspace/songpyeon</code> 에 구축했다.</p><p>이제 사용할 파이썬 버전을 깔아보자</p><p><code>pyenv install 3.7.4</code> 를 해줘서 깔았다.</p><h2 id=1-keras-test>1. Keras Test</h2><p>케라스로 한번 테스트 해보자. 흔하디 흔한 예제인 MNIST를 돌렸다.</p><p><a href=MNIST_test.pdf>MNIST_test.pdf</a></p><p>잘 돌아간다. 코드는 다른 곳에서 적당히 찾아 붙였는데 그 과정에서 에러를 너무 많이 맞아서 수정하다보니 원본 블로그를 닫아버려서 링크를 못걸었다.</p><p>[MNIST test.ipynb](MNIST test.ipynb)</p><h2 id=2-송편-이미지-크롤링하기>2. 송편 이미지 크롤링하기</h2><ul><li>단순히 request로만 크롤링하려고했는데 상위 20개 미리보기 이미지 밖에 안되서 서칭한다음 누군가 selenium 을 통해서 원본이미지 저장을 하는 라이브러리를 만들어놨다고 해서 가져다가 썻다.</li><li>코드에서는 10000개를 긁도록 되어있는데 어짜피 서피스에서는 러닝하기에는 많은양의 데이터가 쓸모가 없어서 대충 300개 근방에서 중단시켰다. 좋은 장비가 있으면 나중에 해볼만 할거 같다.</li></ul><p><a href=scrapping_songpyeon_-_Jupyter_Notebook.pdf>scrapping_songpyeon_-_Jupyter_Notebook.pdf</a></p><p><a href=scrapping_songpyeon.ipynb>scrapping_songpyeon.ipynb</a></p><hr><p>여기까지가 추석연휴 1일차(약 1시간 30분)간 진행됬다. 추석연휴에는 놀아야 하므로 여기까지</p><h2 id=3-송편-이미지-학습시키기>3. 송편 이미지 학습시키기</h2><p>간단하게 잘 돌아가는지 체크하기 위해섯 128x128 이미지로 해봤다.</p><p><a href=songpyeon_generator.ipynb>songpyeon_generator.ipynb</a></p><p><a href=songpyeon_generator.pdf>songpyeon_generator.pdf</a></p><p><img src=generated_0.png alt=generated_0.png>
<img src=generated_100.png alt=generated_100.png>
<img src=generated_200.png alt=generated_200.png>
<img src=generated_300.png alt=generated_300.png>
<img src=generated_400.png alt=generated_400.png>
<img src=generated_500.png alt=generated_500.png>
<img src=generated_600.png alt=generated_600.png>
<img src=generated_700.png alt=generated_700.png>
<img src=generated_800.png alt=generated_800.png>
<img src=generated_900.png alt=generated_900.png>
<img src=generated_1000.png alt=generated_1000.png></p><p>흐음? 나도 못알아보는 이미지를 계속 뱉는다. ㅠ 300까지는 괜찮았던거 같은데</p><p>이미지 해상도를 높여보자</p><h2 id=4-해상도-높여서-다시-학습>4. 해상도 높여서 다시 학습??</h2><p><img src=2019-09-13-101204_921x1006_scrot.png alt=2019-09-13-101204_921x1006_scrot.png></p><p><img src=2019-09-13-100946_921x1006_scrot.png alt=2019-09-13-100946_921x1006_scrot.png></p><p>8GB 짜리 장비에선 안돌아간다 ㅠ</p><p>AWS에서 돌릴까 싶었으나&mldr; 돈들이긴 아쉬워 여기까지 진행했다.</p><h2 id=5-summary>5. Summary</h2><ul><li>생각보다 시간이 적게걸렸다. 코드 짜는데는 총 2시간</li><li>CPU에서 러닝시키지 말자 - 3시간 학습돌렸는데 저모양이다.</li><li>머신러닝은 장비가 좋아야되나보다</li></ul></div><hr><div class=list-files><ul class=section-tree></ul></div></article><script src=/js/wikilink.js></script><div><script src=https://utteranc.es/client.js repo=minuk-dev/minuk-dev.github.io issue-term=pathname theme=github-dark crossorigin=anonymous async></script></div></main><footer class=footer><div class=footer-left></div><div class=footer-right><ul class=social><li><a href=/about>About</a></li><li><a href=https://github.com/minuk-dev>Github</a></li></ul></div></footer></body><script src=/js/dir_toggle.js></script><script src=/js/codeblock_copy.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css><script type=module>
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs";
mermaid.initialize({
  startOnLoad: true,
  theme: "dark",
});
</script></html>