<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>송편 생성기 (추석 대회)</title><style>html body{font-family:raleway,sans-serif;background-color:#fff}:root{--accent: #00a3d2;--border-width:  5px }</style><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/copy-btn.css><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script src=/js/copy-btn.js></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script>$(document).on('click',function(){$('.collapse').collapse('hide');})</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98056974-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-98056974-1');</script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><meta name=google-site-verification content="g_3tJyj-KkW-_wKx7Ij5GimHV1nKPZXetCz8ydbBAfA"></head><body><nav class="navbar navbar-default navbar-fixed-top"><div class=container><div class=navbar-header><a class="navbar-brand visible-xs" href=#>송편 생성기 (추석 대회)</a>
<button class=navbar-toggle data-target=.navbar-collapse data-toggle=collapse>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href=/>Home</a></li><li><a href=/wiki/>Wiki</a></li><li><a href=/posts/>Posts</a></li><li><a href=/about/>About</a></li></ul><ul class="nav navbar-nav navbar-right"><li class=navbar-icon><a href=mailto:makerdark98@gmail.com><i class="fa fa-envelope-o"></i></a></li><li class=navbar-icon><a href=https://github.com/makerdark98/><i class="fa fa-github"></i></a></li><li><div style=max-width:250px;display:inline-block;max-height:40px><script async src="https://cse.google.com/cse.js?cx=003491619885022567520:wnnypdnx4aj"></script><div class=gcse-search></div></div></li></ul></div></div></nav><main><div class=navigator style=display:flex><div style=display:flex><a href=/wiki/><button class="btn btn-link"><i class="fa fa-arrow-left"></i>&nbsp;Front Page</button></a></div><div style=margin-left:auto><div style=display:flex><div style=margin-left:auto><div class=wiki-history></div></div></div><script src=/js/localhistory.js></script><script>var now="송편대회"
pushHistory(now);</script></div></div><div><h2>송편 생성기 (추석 대회)</h2><a href=https://github.com/makerdark98/makerdark98.github.io/blame/master/src/content/wiki/%ec%86%a1%ed%8e%b8%eb%8c%80%ed%9a%8c.md><h5>created : Tue, 07 Apr 2020 20:16:06 +0900</h5><h5>modified : Wed, 08 Apr 2020 12:41:51 +0900</h5></a></div><aside class=navbar id=nav-toc style=text-align:left><nav id=TableOfContents><ul><li><a href=#0-configuration>0. Configuration</a><ul><li><a href=#anyenv-로-pyenv-설치>anyenv 로 pyenv 설치</a></li></ul></li><li><a href=#1-keras-test>1. Keras Test</a></li><li><a href=#2-송편-이미지-크롤링하기>2. 송편 이미지 크롤링하기</a></li><li><a href=#3-송편-이미지-학습시키기>3. 송편 이미지 학습시키기</a></li><li><a href=#4-해상도-높여서-다시-학습>4. 해상도 높여서 다시 학습??</a></li><li><a href=#5-summary>5. Summary</a></li></ul></nav></aside><div align=start class=content data-spy=scroll data-offset=20 data-target=#nav-toc style=position:relative><h1 id=추석을-맞아-송편을-창의적으로-출력하기-대회가-열렸다-먼가-인공지능으로-가장-완벽한-송편을-출력해보고-싶어졌다>추석을 맞아 송편을 창의적으로 출력하기 대회가 열렸다. 먼가 인공지능으로 가장 완벽한 송편을 출력해보고 싶어졌다.</h1><h2 id=0-configuration>0. Configuration</h2><p>먼저 인공지능 스택으로 배운건 Tensorflow, Keras이기 때문에 언어는 편하게 모두 python으로 하기로 결정했다.</p><p>그렇게 언어를 정하고 과정을 다음과 같이 나눴다.</p><ol><li>송편 이미지 크롤링 하기</li><li>Keras를 통해 GAN모델을 구현해서 한번 테스트 해보기</li><li>나온 결과를 확인하고 모델을 학습 데이터 특성에 맞춰서 재설계, 데이터 가공, 통계적으로 분석&mldr; 등등 원하는 결과를 내도록 설계</li></ol><p>이렇게 정하고 나니 필요한 라이브러리는 다음과 같았다. <code>requests, beautifulsoup, tensorflow, keras, pandas</code></p><p>최근에 <code>i3</code>로 환경을 재구축하다보니 재대로된 python 환경이 하나도 없어서 겸사겸사 아는분 ~~(양예비역님 떠나고 나서야 빛인줄 알았습니다.~~이 추천해준 anyenv 까지 설정해보기로 했습니다.</p><h3 id=anyenv-로-pyenv-설치>anyenv 로 pyenv 설치</h3><p><code>git clone [https://github.com/anyenv/anyenv](https://github.com/anyenv/anyenv) ~/.anyenv</code></p><p><code>echo 'export PATH="$HOME/.anyenv/bin$PATH"' >> ~/.zshrc</code></p><p><code>echo 'eval "$(anyenv init -)"' >> ~/.zshrc</code></p><p>anyenv를 다 깔았으니 pyenv를 깔자</p><p><code>anyenv install pyenv</code></p><p>근데 알아보니까 pyenv 는 pyenv-virtualenv plugin이 있으면 virtualenv 를 쉽게 할 수 있다고 한다.</p><p><code>git clone git/git://github.com/yyuu/pyenv-virtualenv ~/.anyenv/envs/pyenv/plugins/pyenv-virtualenv</code></p><p><code>echo 'eval "$(pyenv virtualenv-init -)"' >> ~/.zshrc</code></p><p>금방 다깔았다.</p><p>이제 pyenv 설정이 끝났다. workspace 폴더나 만들어주자</p><p>나는 <code>~/workspace/songpyeon</code> 에 구축했다.</p><p>이제 사용할 파이썬 버전을 깔아보자</p><p><code>pyenv install 3.7.4</code> 를 해줘서 깔았다.</p><h2 id=1-keras-test>1. Keras Test</h2><p>케라스로 한번 테스트 해보자. 흔하디 흔한 예제인 MNIST를 돌렸다.</p><p><a href=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e7ab56a0-fbdb-4608-ba3c-585cac01f4de/MNIST_test.pdf>https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e7ab56a0-fbdb-4608-ba3c-585cac01f4de/MNIST_test.pdf</a></p><p>잘 돌아간다. 코드는 다른 곳에서 적당히 찾아 붙였는데 그 과정에서 에러를 너무 많이 맞아서 수정하다보니 원본 블로그를 닫아버려서 링크를 못걸었다.</p><p><a href=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bb179ff1-3548-4c5c-8988-d5ce63a6b755/MNIST_test.ipynb>MNIST test.ipynb</a></p><h2 id=2-송편-이미지-크롤링하기>2. 송편 이미지 크롤링하기</h2><ul><li>단순히 request로만 크롤링하려고했는데 상위 20개 미리보기 이미지 밖에 안되서 서칭한다음 누군가 selenium 을 통해서 원본이미지 저장을 하는 라이브러리를 만들어놨다고 해서 가져다가 썻다.</li><li>코드에서는 10000개를 긁도록 되어있는데 어짜피 서피스에서는 러닝하기에는 많은양의 데이터가 쓸모가 없어서 대충 300개 근방에서 중단시켰다. 좋은 장비가 있으면 나중에 해볼만 할거 같다.</li></ul><p><a href=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bc0b880d-2057-4dbb-8581-0fb2f661ad25/scrapping_songpyeon_-_Jupyter_Notebook.pdf>https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bc0b880d-2057-4dbb-8581-0fb2f661ad25/scrapping_songpyeon_-_Jupyter_Notebook.pdf</a></p><p><a href=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/584bc68e-a046-4666-ac0b-bb3722484661/scrapping_songpyeon.ipynb>scrapping_songpyeon.ipynb</a></p><hr><p>여기까지가 추석연휴 1일차(약 1시간 30분)간 진행됬다. 추석연휴에는 놀아야 하므로 여기까지</p><h2 id=3-송편-이미지-학습시키기>3. 송편 이미지 학습시키기</h2><p>간단하게 잘 돌아가는지 체크하기 위해섯 128x128 이미지로 해봤다.</p><p><a href=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7ac18c10-61ca-43d1-a1db-d73bd76cb079/songpyeon_generator.ipynb>songpyeon_generator.ipynb</a></p><p><a href=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b78ab051-45cc-42fc-ac4b-513a4ee04a16/songpyeon_generator.pdf>https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b78ab051-45cc-42fc-ac4b-513a4ee04a16/songpyeon_generator.pdf</a></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/33cb72fc-5114-4d96-b7e5-d5d20dcec50a/generated_0.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/33cb72fc-5114-4d96-b7e5-d5d20dcec50a/generated_0.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/47123adc-f356-4c58-b7f5-0ae10ecb17fd/generated_100.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/47123adc-f356-4c58-b7f5-0ae10ecb17fd/generated_100.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1c98bea0-842b-4d38-ac9d-55bcdffde65c/generated_200.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1c98bea0-842b-4d38-ac9d-55bcdffde65c/generated_200.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c9f353a8-0988-4ec8-93cc-2ae4599c04a4/generated_300.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c9f353a8-0988-4ec8-93cc-2ae4599c04a4/generated_300.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6ed3228f-d347-401e-ac45-0650cba85dfc/generated_400.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6ed3228f-d347-401e-ac45-0650cba85dfc/generated_400.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/711ae415-3200-48c2-bc86-5e3195b80f3c/generated_500.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/711ae415-3200-48c2-bc86-5e3195b80f3c/generated_500.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c4f72336-1edc-4b63-a307-e982c88f852f/generated_600.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c4f72336-1edc-4b63-a307-e982c88f852f/generated_600.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fd4f4128-3aa8-4a36-9e3f-ad8b22a3f2fc/generated_700.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fd4f4128-3aa8-4a36-9e3f-ad8b22a3f2fc/generated_700.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a8054991-fb03-4486-86c3-357e72302b21/generated_800.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a8054991-fb03-4486-86c3-357e72302b21/generated_800.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c6623009-289e-4e4c-a450-f0f23b1310ea/generated_900.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c6623009-289e-4e4c-a450-f0f23b1310ea/generated_900.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e15aa2bf-490e-4759-88e5-404d1c719cc3/generated_1000.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e15aa2bf-490e-4759-88e5-404d1c719cc3/generated_1000.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/544abf88-212c-4d64-8d22-d90d8d04e629/generated_1100.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/544abf88-212c-4d64-8d22-d90d8d04e629/generated_1100.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4251fac9-a4fe-4320-8732-f18f91f441a7/generated_1100.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4251fac9-a4fe-4320-8732-f18f91f441a7/generated_1100.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8304c2d6-3bb0-4e22-8f24-b9e7f6a57e50/generated_1200.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8304c2d6-3bb0-4e22-8f24-b9e7f6a57e50/generated_1200.png></p><p>흐음? 나도 못알아보는 이미지를 계속 뱉는다. ㅠ 300까지는 괜찮았던거 같은데</p><p>이미지 해상도를 높여보자</p><h2 id=4-해상도-높여서-다시-학습>4. 해상도 높여서 다시 학습??</h2><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/aa43d695-7520-4dda-8364-37246954f4f0/2019-09-13-101204_921x1006_scrot.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/aa43d695-7520-4dda-8364-37246954f4f0/2019-09-13-101204_921x1006_scrot.png></p><p><img src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3043c4ea-8d60-4d7c-8b5b-4f952cb41a82/2019-09-13-100946_921x1006_scrot.png alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3043c4ea-8d60-4d7c-8b5b-4f952cb41a82/2019-09-13-100946_921x1006_scrot.png></p><p>8GB 짜리 장비에선 안돌아간다 ㅠ</p><p>AWS에서 돌릴까 싶었으나&mldr; 돈들이긴 아쉬워 여기까지 진행했다.</p><h2 id=5-summary>5. Summary</h2><ul><li>생각보다 시간이 적게걸렸다. 코드 짜는데는 총 2시간</li><li>CPU에서 러닝시키지 말자 - 3시간 학습돌렸는데 저모양이다.</li><li>머신러닝은 장비가 좋아야되나보다</li></ul></div><script src=/js/wikilink.js></script><div><script src=https://utteranc.es/client.js repo=makerdark98/makerdark98.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></main><footer><p class="copyright text-muted">© All rights reserved. Powered by <a href=https://gohugo.io>Hugo</a> and <a href=https://github.com/calintat/minimal>Minimal</a>.</p></footer></body></html>